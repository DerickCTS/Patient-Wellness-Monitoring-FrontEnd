<mat-card class="chart-card">
  <mat-card-title class="card-title">
    <h3>Overall Completion Rates</h3>

    <mat-button-toggle-group [(ngModel)]="currentView"
                             (ngModelChange)="onViewChange($event)">
      <mat-button-toggle value="daily">Daily</mat-button-toggle>
      <mat-button-toggle value="weekly">Weekly</mat-button-toggle>
      <mat-button-toggle value="monthly">Monthly</mat-button-toggle>
    </mat-button-toggle-group>
  </mat-card-title>

  <mat-card-content>
    <div class="chart-container">

      <div *ngIf="isLoading" class="loading-spinner">
        <mat-spinner></mat-spinner>
      </div>

      <ngx-charts-area-chart *ngIf="!isLoading"
                             [results]="chartData"
                             [scheme]="colorScheme"
                             [gradient]="gradient"
                             [xAxis]="true"
                             [yAxis]="true"
                             [legend]="legend"
                             [showXAxisLabel]="showXAxisLabel"
                             [showYAxisLabel]="showYAxisLabel"
                             [xAxisLabel]="xAxisLabel"
                             [yAxisLabel]="yAxisLabel"
                             [autoScale]="autoScale"
                             [yAxisTickFormatting]="yAxisTickFormat">
      </ngx-charts-area-chart>
    </div>
  </mat-card-content>
</mat-card>
