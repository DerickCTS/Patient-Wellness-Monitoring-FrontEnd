<div *ngIf="dashboardData$ | async as data; else loading">
  <div classs="dashboard-grid">

    <app-at-a-glance [wellnessScore]="data.wellnessScore"
                     [currentStreak]="data.currentStreak"
                     [healthTip]="data.healthTipOfTheDay"
                     [tasksTodayCompleted]="data.tasksTodayCompleted"
                     [tasksTodayTotal]="data.tasksTodayTotal"
                     [tasksThisWeekCompleted]="data.tasksThisWeekCompleted"
                     [tasksThisWeekTotal]="data.tasksThisWeekTotal"
                     [bestStreak]="data.bestStreak"></app-at-a-glance>

    <app-activity-calendar [initialData]="data.activityCalendar"
                           [initialYear]="currentYear"></app-activity-calendar>

    <app-completion-rate-chart></app-completion-rate-chart>

  </div>
</div>

<ng-template #loading>
  <div class="loading-spinner">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>
